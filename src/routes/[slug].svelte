<script context="module">
	export async function load({ params }) {
		const { slug } = params;
		return {
			props: { hello: 'Eunjae' }
		};
	}
</script>

<script lang="ts">
	import TweetFeedbackForm from '../lib/components/TweetFeedbackForm.svelte';
	import DirectFeedbackForm from '../lib/components/DirectFeedbackForm.svelte';

	let feedbackType: 'tweet' | 'direct';

	let mode: 'introduction' | 'form' = 'introduction';
	function showForm() {
		mode = 'form';
	}
</script>

<div class="container mx-auto flex justify-center">
	<div class="mt-8 mx-4 card w-full sm:w-96 bg-base-200 shadow-xl">
		<!-- svelte-ignore a11y-img-redundant-alt -->
		<figure><img src="/profile.jpeg" alt="Profile picture of Eunjae Lee" /></figure>
		<div class="card-body">
			<h2 class="card-title">SaaS í•´ì»¤í†¤ ê°•ì¢Œì— ëŒ€í•œ í”¼ë“œë°±ì„ ë¶€íƒë“œë ¤ìš”.</h2>
			<p>ì•ˆë…•í•˜ì„¸ìš”, ì´ì€ì¬ì…ë‹ˆë‹¤ ğŸ‘‹ğŸ¼</p>
			<p>
				ì´ë²ˆì— ì§„í–‰í•˜ê³  ìˆëŠ” SaaS í•´ì»¤í†¤ ê°•ì¢Œë¥¼ ìœ„í•´ ë¯¸ë‹ˆ ìŠ¤íŠ¸ë¦¬ë°ê³¼ ëª‡ëª‡ ë…¹í™”ëœ ì˜ìƒì„ ì˜¬ë¦¬ê³ 
				ìˆëŠ”ë°ìš”. ë„ì›€ì´ ë˜ê³  ìˆì„ê¹Œìš”? ì—¬ëŸ¬ë¶„ì´ í”¼ë“œë°±ì„ ì£¼ì‹œë©´ ì¢€ë” ë‚˜ì•„ì§ˆ ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ìš”.
			</p>
			{#if mode === 'introduction'}
				<div class="card-actions justify-end">
					<button class="btn btn-primary" type="button" on:click={showForm}>ì¢‹ì•„ìš”</button>
				</div>
			{/if}

			{#if mode === 'form'}
				<p class="mt-8 font-bold">í˜¹ì‹œ, ì´ë¯¸ íŠ¸ìœ„í„°ì— ì˜¬ë¦¬ì…¨ë‚˜ìš”?</p>
				<div class="form-control mt-2">
					<label class="cursor-pointer label">
						<input
							type="radio"
							class="radio"
							bind:group={feedbackType}
							name="feedback_type"
							value={'tweet'}
						/>
						<span class="label-text">ë„¤, íŠ¸ìœ— URL ë¶™ì—¬ë„£ì„ê²Œìš”.</span>
					</label>
				</div>
				{#if feedbackType === 'tweet'}
					<TweetFeedbackForm />
				{/if}

				<div class="form-control">
					<label class="cursor-pointer label">
						<input
							type="radio"
							class="radio"
							bind:group={feedbackType}
							name="feedback_type"
							value={'direct'}
						/>
						<span class="label-text">ì•„ë‡¨, ì—¬ê¸°ì„œ ì‘ì„±í• ê²Œìš”.</span>
					</label>
				</div>
				{#if feedbackType === 'direct'}
					<DirectFeedbackForm />
				{/if}
			{/if}
		</div>
	</div>
</div>
